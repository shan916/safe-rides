<div class="modal-header">
  <h3 class="modal-title" id="modal-title">Assign request to {{arModal.driver.name}}</h3>
</div>
<div class="modal-body" id="modal-body">
  <div class="row">
    <div class="col-md-6">
      <dl class="dl-horizontal">
        <dt>Name:</dt>
        <dd>{{arModal.driver.name}}</dd>
        <dt>Seats:</dt>
        <dd>{{arModal.driver.vehicle.seats}}</dd>
        <dt>Vehicle:</dt>
        <dd>{{arModal.driver.vehicle.year + ' - ' + arModal.driver.vehicle.make + ', ' + arModal.driver.vehicle.model}}</dd>
      </dl>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label for="selectRequest">Assign request</label>
        <ui-select ng-model="arModal.selectedRequest">
            <ui-select-match>{{$select.selected.requestorFirstName}}</ui-select-match>
          <ui-select-choices repeat="request in arModal.requests | filter: {status: 'UNASSIGNED'}">
            <div ng-bind-html="'Riders: ' + request.numPassengers + ' - ' + request.requestorFirstName + ' ' + request.requestorLastName"></div>
          </ui-select-choices>
        </ui-select>
      </div>
      <div ng-hide="arModal.selectedRequest == null">
        <h4>Selected Request's Details</h4>
        <dl class="dl-horizontal">
          <dt>Name:</dt>
          <dd>{{ arModal.selectedRequest.requestorFirstName + ' ' + arModal.selectedRequest.requestorLastName}}</dd>
          <dt>Riders:</dt>
          <dd>{{arModal.selectedRequest.numPassengers}}</dd>
          <dt>Pickup Location:</dt>
          <dd>{{arModal.selectedRequest.pickupLine1}} <br />
            {{arModal.selectedRequest.pickupLine2.value || "" }}
            {{arModal.selectedRequest.pickupCity + ' ' + arModal.selectedRequest.pickupZip}}
          </dd>
          <dt>Dropoff Location:</dt>
          <dd>{{arModal.selectedRequest.dropoffLine1}} <br />
            {{arModal.selectedRequest.dropoffLine2.value || "" }}
            {{arModal.selectedRequest.dropoffCity + ' ' + arModal.selectedRequest.dropoffZip}}
          </dd>
        </dl>
      </div>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-primary" ng-click="arModal.ok()">Assign Driver</button>
  <button type="button" class="btn btn-default" ng-click="arModal.cancel()">Cancel</button>
</div>
